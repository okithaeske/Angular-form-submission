    <section class="csv-card">
    <header class="csv-header">
        <h1 class="csv-title">Import Students via CSV</h1>
        <p class="csv-subtitle">
        Choose a comma-separated file that follows the student template. We will use the header row to
        map each field.
        </p>
    </header>

    <form class="csv-form" (ngSubmit)="uploadFile($event)" novalidate>
        <div class="upload-area">
            <h2 class="upload-title">Upload CSV file</h2>
            <p class="upload-info">
                Click the button below to browse your computer and select a .csv file containing the records
                you want to import.
            </p>

            <label for="csvUpload" class="upload-trigger">Choose CSV file</label>
            <input type="file" id="csvUpload" (change)="onFileSelected($event)" accept=".csv" hidden />

            <p class="upload-hint">Accepted format: .csv</p>
            
            @if (selectedFile) {
                <p class="selected-file">Selected file: {{ selectedFile.name }}</p>
            }

            @if (uploadStatus === 'uploading') {
                <div class="upload-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" [style.width.%]="uploadProgress"></div>
                    </div>
                    <p class="progress-text">Uploading: {{ uploadProgress }}%</p>
                </div>
            }

            @if (uploadStatus === 'success') {
                <div class="upload-success">
                    <p class="success-message">{{ responseMessage }}</p>
                    @if (uploadedFilePath) {
                        <p class="file-path">File saved at: {{ uploadedFilePath }}</p>
                    }
                </div>
            }

            @if (uploadStatus === 'error') {
                <div class="upload-error">
                    <p class="error-message">{{ responseMessage }}</p>
                </div>
            }
        </div>

        <div class="form-actions">
            <button type="submit" class="btn" [disabled]="isUploading || !selectedFile">
                @if (isUploading) {
                    Uploading...
                } @else {
                    Submit
                }
            </button>
            <button type="button" class="btn btn--ghost" routerLink="/" [disabled]="isUploading">Back</button>
        </div>
    </form>
    </section>
